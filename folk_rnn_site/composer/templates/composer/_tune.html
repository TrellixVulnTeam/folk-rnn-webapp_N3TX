{% load widget_tweaks %}
<div id="tune" hidden>
    <section class="tune">
    <h1 class="content-subhead">Your generated tune</h1>
        <div id="composition">
            <textarea id="abc" readonly class="pure-u-1" rows="1" spellcheck="false"></textarea>
        </div>
        <div id="composition_metadata">
            <p class="meta">The RNN properties were <span id="rnn_model_name" class="parameter"></span> with seed <span id="seed" class="parameter"></span> and temperature <span id="temp" class="parameter"></span>.</p>
            <p class="meta">The prime tokens were <span id="prime_tokens" class="parameter"></span>.</p>
            <p class="meta">Requested on <span id="requested" class="parameter"></span>.</p>
            <p class="meta">Generated on <span id="generated" class="parameter"></span>.</p>
        </div>
        <div id="abcjs_divs">
            <h2 class="content-subhead">Hear it</h2>
            <div class="input-container pure-u-1">
                <div id="midi" class="input-contained-fill bpm-valign"></div>
                <div id="tempo" class="input-contained-fixed-tempo pure-form bpm-valign-tempo" hidden>
                    <label for="bpm">Tempo</label>
                    <input type="number" id="tempo_input" value="120" min="24" max="204" class="pure-input-1" title="BPM">
                </div>
                <div id="midi-download" class="input-contained-single-button bpm-valign"></div>
            </div>
            <h2 class="content-subhead">See it</h2>
            <div id="notation"></div>
        </div>
        <div id=export>
            <h2 class="content-subhead">Save it</h2>
            <form id="archive_form" method="POST" action="" class="pure-form">
                <div class="input-container pure-u-1">
                    {% csrf_token %}
                    <div class="input-contained-fill">
                        {% render_field archive_form.title class+="pure-input-1" %}
                    </div>
                    <div class="input-contained-one-button-of-two">
                        <input id="archive_button" type="submit" value="Archive" class="pure-button pure-button-primary pure-input-1">
                    </div>
                    <div class="input-contained-one-button-of-two">
                        <input id="remove_button" type="button" value="Remove" class="pure-button pure-input-1">
                    </div>
                </div>
            </form>
            <p class="post-description"><a href="http://themachinefolksession.org">The Machine Folk Session</a> is a community website dedicated to folk music generated by, or co-created with, machines. Give your generated tune a title, hit 'Archive', and it will become part of the collection there. You'll be taken to its page on the machine folk session site, where you can hand-craft settings of the tune and discuss it with others.</p>
        </div>
    </section>
</div>